"use strict";var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if("value" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var canvasLoading=canvasLoading||{};canvasLoading.text=function(){function c(d){_classCallCheck(this,c);this.settings=d}_createClass(c,[{key:"draw",value:function a(d){this.settings=d;this.setRGB();this.settings.ctx.font=[this.settings.bold?"bold":"",this.settings.fontsize+"px","sans-serif"].join(" ");this.settings.ctx.textAlign="center";this.settings.ctx.textBaseline="middle";this.settings.ctx.fillStyle="rgba({r},{g},{b},1)".replace("{r}",this.r).replace("{g}",this.g).replace("{b}",this.b);this.settings.ctx.fillText(this.settings.text,this.settings.canvasSize/2,this.settings.canvasSize/2);return this}},{key:"setRGB",value:function b(){this.r=this.settings.textColor.slice(1,3);this.g=this.settings.textColor.slice(3,5);this.b=this.settings.textColor.slice(5,7)}}]);return c}();canvasLoading.satellite=function(){function f(j,h){_classCallCheck(this,f);this.settings=j;this.i=h;this.radian=this.i*(2*Math.PI/j.circleNumber);this.color1=j.color1;this.color2=j.color2;this.length=j.length;this.resize()}_createClass(f,[{key:"colorCode",value:function e(h){var j={red:{from:1,to:3},green:{from:3,to:5},blue:{from:5,to:7}};var i=j[h];var l=parseInt(this._color1.slice(i.from,i.to),16);var k=parseInt(this._color2.slice(i.from,i.to),16);return(k-l)*Math.abs(this.i-this.settings.circleNumber/2)/(this.settings.circleNumber/2)+l}},{key:"move",value:function b(){this.radian+=this.settings.speed*0.1/255;if(this.radian>Math.PI*2){this.radian-=Math.PI*2}if(this.radian<Math.PI*2*-1){this.radian+=Math.PI*2}this.x=Math.cos(this.radian)*this.orbitRadiusCalc+this.settings.canvasSize/2;this.y=Math.sin(this.radian)*this.orbitRadiusCalc+this.settings.canvasSize/2;this.innerX=Math.cos(this.radian)*this.orbitRadiusCalc*this.lengthCalc+this.settings.canvasSize/2;this.innerY=Math.sin(this.radian)*this.orbitRadiusCalc*this.lengthCalc+this.settings.canvasSize/2;return this}},{key:"resize",value:function d(){this.radius=this.settings.radius;this.orbitRadius=this.settings.orbitRadiusRate;return this}},{key:"draw",value:function a(){this.settings.ctx.beginPath();this.settings.ctx.arc(this.x,this.y,this.radiusCalc,this.radian+Math.PI*0.5,this.radian-Math.PI*0.5,true);this.settings.ctx.arc(this.innerX,this.innerY,this.radiusCalc,this.radian-Math.PI*0.5,this.radian+Math.PI*0.5,true);this.settings.ctx.closePath();this.settings.ctx.fillStyle="rgba({r},{g},{b},1)".replace("{r}",this.r).replace("{g}",this.g).replace("{b}",this.b);this.settings.ctx.fill();if(this.settings.hasStroke){this.settings.ctx.strokeStyle=this.settings.strokeColor;this.settings.ctx.lineWidth=0;this.settings.ctx.stroke()}return this}},{key:"r",get:function c(){return this.colorCode("red")}},{key:"g",get:function c(){return this.colorCode("green")}},{key:"b",get:function c(){return this.colorCode("blue")}},{key:"color1",get:function c(){return this._color1},set:function g(h){this._color1=h}},{key:"color2",get:function c(){return this._color2},set:function g(h){this._color2=h}},{key:"radiusCalc",get:function c(){return this.settings.canvasSize*this._radius/100}},{key:"radius",get:function c(){return this._radius},set:function g(h){this._radius=h}},{key:"orbitRadiusCalc",get:function c(){return this.settings.canvasSize/2*this._orbitRadius/100}},{key:"orbitRadius",get:function c(){return this._orbitRadius},set:function g(h){this._orbitRadius=h}},{key:"lengthCalc",get:function c(){return(100-this._length)*0.01}},{key:"length",get:function c(){return this._length},set:function g(h){this._length=h}}]);return f}();var canvasLoading=Object.assign(canvasLoading,function(){var j=[];var l=null;var b=null;var g={el:"canvas_loading",canvasSize:256,circleNumber:20,speed:60,orbitRadiusRate:80,length:0,radius:3.5,color1:"#ffffff",color2:"#000000",hasStroke:true,strokeColor:"#000000",text:"Now Loading",textColor:"#000000",fontsize:20,bold:true};var f={_init:function k(m){Object.assign(g,m);g.canvas=document.getElementById(g.el);g.ctx=g.canvas.getContext("2d");g.canvas.setAttribute("width",g.canvasSize);g.canvas.setAttribute("height",g.canvasSize);f._newCanvas();f._drive();if(canvasLoading.demo){canvasLoading.demo.init(g)}},_newCanvas:function e(){if(!j.length||j.length!==g.circleNumber){j=[];for(var m=0;m<g.circleNumber;m+=1){j.push(new canvasLoading.satellite(g,m))}}l=new canvasLoading.text(g)},_drive:function c(){b=setInterval(function(){g.ctx.clearRect(0,0,g.canvasSize,g.canvasSize);j.forEach(function(m){return m.move().draw()});l.draw(g)},1000/60)},_stop:function i(){clearInterval(b)},_circles:function h(){return j},_open:function d(){console.log(j)},_close:function a(){}};return{init:f._init,newCanvas:f._newCanvas,open:f._open,close:f._close,stop:f._stop,getCircles:f._circles}}());